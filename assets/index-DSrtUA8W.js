import{r as w,j as n}from"./index-BEVwWGVc.js";import{D as nr,I as N}from"./image-Bdy5_cYd.js";import{a as K,b as f,r as i,i as P,f as ar}from"./isObject-BqFFb_eK.js";import"./IconClose-DuoACxKe.js";var sr=Array.isArray,ir="[object AsyncFunction]",cr="[object Function]",ur="[object GeneratorFunction]",pr="[object Proxy]";function q(r){if(!K(r))return!1;var e=f(r);return e==cr||e==ur||e==ir||e==pr}var x=i["__core-js_shared__"],M=function(){var r=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function fr(r){return!!M&&M in r}var gr=Function.prototype,jr=gr.toString;function c(r){if(r!=null){try{return jr.call(r)}catch{}try{return r+""}catch{}}return""}var yr=/[\\^$.*+?()[\]{}|]/g,lr=/^\[object .+?Constructor\]$/,br=Function.prototype,mr=Object.prototype,dr=br.toString,vr=mr.hasOwnProperty,Tr=RegExp("^"+dr.call(vr).replace(yr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wr(r){if(!K(r)||fr(r))return!1;var e=q(r)?Tr:lr;return e.test(c(r))}function xr(r,e){return r==null?void 0:r[e]}function g(r,e){var o=xr(r,e);return wr(o)?o:void 0}var _=g(i,"WeakMap"),hr=9007199254740991;function H(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=hr}function _r(r){return r!=null&&H(r.length)&&!q(r)}var Ar=Object.prototype;function X(r){var e=r&&r.constructor,o=typeof e=="function"&&e.prototype||Ar;return r===o}var $r="[object Arguments]";function R(r){return P(r)&&f(r)==$r}var z=Object.prototype,Ir=z.hasOwnProperty,Or=z.propertyIsEnumerable,Pr=R(function(){return arguments}())?R:function(r){return P(r)&&Ir.call(r,"callee")&&!Or.call(r,"callee")};function Sr(){return!1}var J=typeof exports=="object"&&exports&&!exports.nodeType&&exports,k=J&&typeof module=="object"&&module&&!module.nodeType&&module,Cr=k&&k.exports===J,F=Cr?i.Buffer:void 0,Er=F?F.isBuffer:void 0,Nr=Er||Sr,Mr="[object Arguments]",Rr="[object Array]",kr="[object Boolean]",Fr="[object Date]",Ur="[object Error]",Br="[object Function]",Dr="[object Map]",Lr="[object Number]",Vr="[object Object]",Wr="[object RegExp]",Gr="[object Set]",Kr="[object String]",qr="[object WeakMap]",Hr="[object ArrayBuffer]",Xr="[object DataView]",zr="[object Float32Array]",Jr="[object Float64Array]",Yr="[object Int8Array]",Qr="[object Int16Array]",Zr="[object Int32Array]",re="[object Uint8Array]",ee="[object Uint8ClampedArray]",te="[object Uint16Array]",oe="[object Uint32Array]",t={};t[zr]=t[Jr]=t[Yr]=t[Qr]=t[Zr]=t[re]=t[ee]=t[te]=t[oe]=!0;t[Mr]=t[Rr]=t[Hr]=t[kr]=t[Xr]=t[Fr]=t[Ur]=t[Br]=t[Dr]=t[Lr]=t[Vr]=t[Wr]=t[Gr]=t[Kr]=t[qr]=!1;function ne(r){return P(r)&&H(r.length)&&!!t[f(r)]}function ae(r){return function(e){return r(e)}}var Y=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p=Y&&typeof module=="object"&&module&&!module.nodeType&&module,se=p&&p.exports===Y,h=se&&ar.process,U=function(){try{var r=p&&p.require&&p.require("util").types;return r||h&&h.binding&&h.binding("util")}catch{}}(),B=U&&U.isTypedArray,ie=B?ae(B):ne;function ce(r,e){return function(o){return r(e(o))}}var ue=ce(Object.keys,Object),pe=Object.prototype,fe=pe.hasOwnProperty;function ge(r){if(!X(r))return ue(r);var e=[];for(var o in Object(r))fe.call(r,o)&&o!="constructor"&&e.push(o);return e}var A=g(i,"Map"),$=g(i,"DataView"),I=g(i,"Promise"),O=g(i,"Set"),D="[object Map]",je="[object Object]",L="[object Promise]",V="[object Set]",W="[object WeakMap]",G="[object DataView]",ye=c($),le=c(A),be=c(I),me=c(O),de=c(_),s=f;($&&s(new $(new ArrayBuffer(1)))!=G||A&&s(new A)!=D||I&&s(I.resolve())!=L||O&&s(new O)!=V||_&&s(new _)!=W)&&(s=function(r){var e=f(r),o=e==je?r.constructor:void 0,j=o?c(o):"";if(j)switch(j){case ye:return G;case le:return D;case be:return L;case me:return V;case de:return W}return e});var ve="[object Map]",Te="[object Set]",we=Object.prototype,xe=we.hasOwnProperty;function he(r){if(r==null)return!0;if(_r(r)&&(sr(r)||typeof r=="string"||typeof r.splice=="function"||Nr(r)||ie(r)||Pr(r)))return!r.length;var e=s(r);if(e==ve||e==Te)return!r.size;if(X(r))return!ge(r).length;for(var o in r)if(xe.call(r,o))return!1;return!0}const _e="_container_1j85j_1",Ae="_uploadRegion_1j85j_4",$e="_semiImage_1j85j_11",Ie="_preview_1j85j_22",Oe="_previewContainer_1j85j_32",Pe="_previewImage_1j85j_37",u={container:_e,uploadRegion:Ae,semiImage:$e,preview:Ie,previewContainer:Oe,previewImage:Pe};function Re(){const r=w.useRef(),[e,o]=w.useState(),[j,Q]=w.useState([]);function Z(y){const l=y.target.files;if(he(l))return;const S=URL.createObjectURL(l[0]);o(S);const a=new Image;a.crossOrigin="anonymous",a.src=S,a.onload=function(){const b=a.width/3,m=a.height/3;let E=[];for(let v=0;v<3;v++)for(let T=0;T<3;T++){const d=document.createElement("canvas");d.width=b,d.height=m;const rr=d.getContext("2d"),er=T*b,tr=v*m;rr.drawImage(a,er,tr,b,m,0,0,b,m);const or=d.toDataURL("image/png");E.push(or)}Q(E)},a.onerror=function(C){console.error(C)}}return n.jsxs("div",{className:u.container,children:[n.jsxs("div",{className:u.uploadRegion,children:[n.jsx("input",{ref:r,type:"file",onChange:Z}),n.jsx(nr,{}),n.jsx(N,{className:u.semiImage,src:e,preview:{url:e}})]}),n.jsx("div",{className:u.preview,children:j.map((y,l)=>n.jsx("div",{className:u.previewContainer,children:n.jsx(N,{className:u.previewImage,src:y,preview:{url:y}},l)}))})]})}export{Re as default};
