import{c as A,r as p,a as Re,b as _e,g as Ne,R as d,B as ce,d as $e,e as de,f as W,i as Me,I as De,C as Le,P as g,h as Pe,_ as q,k as H,l as ie,m as Ae,j as R,n as ke}from"./index-wchLUKCn.js";import{b as ze,c as Be,d as ue,a as We,u as Fe,e as Ze,C as G,i as Xe,g as qe,K as z,f as He,h as Ge,D as Ue,M as Ke}from"./core.esm-xle7LXIN.js";function Ve(s){return p.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))}const Ye=A(Ve,"alert_circle");function Je(s){return p.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))}const Qe=A(Je,"alert_triangle");function et(s){return p.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),p.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))}const tt=A(et,"close");function nt(s){return p.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))}const st=A(nt,"info_circle");function rt(s){return p.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},s),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))}const at=A(rt,"tick_circle");var X,oe;function it(){if(oe)return X;oe=1;var s=Re(),n=_e(),e="[object Number]";function t(a){return typeof a=="number"||n(a)&&s(a)==e}return X=t,X}var ot=it();const lt=Ne(ot);function U(s,n,e){const t=s.slice();return t.splice(e<0?t.length+e:e,0,t.splice(n,1)[0]),t}function ct(s,n){return s.reduce((e,t,a)=>{const r=n.get(t);return r&&(e[a]=r),e},Array(s.length))}function B(s){return s!==null&&s>=0}function dt(s,n){if(s===n)return!0;if(s.length!==n.length)return!1;for(let e=0;e<s.length;e++)if(s[e]!==n[e])return!1;return!0}function ut(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const K=s=>{let{rects:n,activeIndex:e,overIndex:t,index:a}=s;const r=U(n,t,e),i=n[a],o=r[a];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},fe="Sortable",pe=d.createContext({activeIndex:-1,containerId:fe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:K,disabled:{draggable:!1,droppable:!1}});function ft(s){let{children:n,id:e,items:t,strategy:a=K,disabled:r=!1}=s;const{active:i,dragOverlay:o,droppableRects:c,over:f,measureDroppableContainers:l}=ze(),m=Be(fe,e),v=o.rect!==null,h=p.useMemo(()=>t.map(w=>typeof w=="object"&&"id"in w?w.id:w),[t]),y=i!=null,C=i?h.indexOf(i.id):-1,O=f?h.indexOf(f.id):-1,k=p.useRef(h),_=!dt(h,k.current),N=O!==-1&&C===-1||_,I=ut(r);ue(()=>{_&&y&&l(h)},[_,h,y,l]),p.useEffect(()=>{k.current=h},[h]);const $=p.useMemo(()=>({activeIndex:C,containerId:m,disabled:I,disableTransforms:N,items:h,overIndex:O,useDragOverlay:v,sortedRects:ct(h,c),strategy:a}),[C,m,I.draggable,I.droppable,N,h,O,c,v,a]);return d.createElement(pe.Provider,{value:$},n)}const pt=s=>{let{id:n,items:e,activeIndex:t,overIndex:a}=s;return U(e,t,a).indexOf(n)},mt=s=>{let{containerId:n,isSorting:e,wasDragging:t,index:a,items:r,newIndex:i,previousItems:o,previousContainerId:c,transition:f}=s;return!f||!t||o!==r&&a===i?!1:e?!0:i!==a&&n===c},gt={duration:200,easing:"ease"},me="transform",ht=G.Transition.toString({property:me,duration:0,easing:"linear"}),bt={roleDescription:"sortable"};function vt(s){let{disabled:n,index:e,node:t,rect:a}=s;const[r,i]=p.useState(null),o=p.useRef(e);return ue(()=>{if(!n&&e!==o.current&&t.current){const c=a.current;if(c){const f=qe(t.current,{ignoreTransform:!0}),l={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(l.x||l.y)&&i(l)}}e!==o.current&&(o.current=e)},[n,e,t,a]),p.useEffect(()=>{r&&i(null)},[r]),r}function It(s){let{animateLayoutChanges:n=mt,attributes:e,disabled:t,data:a,getNewIndex:r=pt,id:i,strategy:o,resizeObserverConfig:c,transition:f=gt}=s;const{items:l,containerId:m,activeIndex:v,disabled:h,disableTransforms:y,sortedRects:C,overIndex:O,useDragOverlay:k,strategy:_}=p.useContext(pe),N=xt(t,h),I=l.indexOf(i),$=p.useMemo(()=>({sortable:{containerId:m,index:I,items:l},...a}),[m,a,I,l]),w=p.useMemo(()=>l.slice(l.indexOf(i)),[l,i]),{rect:J,node:Q,isOver:he,setNodeRef:ee}=We({id:i,data:$,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:M,activatorEvent:be,activeNodeRect:ve,attributes:Ie,setNodeRef:te,listeners:xe,isDragging:F,over:ye,setActivatorNodeRef:Ce,transform:Oe}=Fe({id:i,data:$,attributes:{...bt,...e},disabled:N.draggable}),Ee=Ze(ee,te),j=!!M,ne=j&&!y&&B(v)&&B(O),se=!k&&F,re=se&&ne?Oe:null,we=ne?re??(o??_)({rects:C,activeNodeRect:ve,activeIndex:v,overIndex:O,index:I}):null,D=B(v)&&B(O)?r({id:i,items:l,activeIndex:v,overIndex:O}):I,T=M==null?void 0:M.id,b=p.useRef({activeId:T,items:l,newIndex:D,containerId:m}),je=l!==b.current.items,ae=n({active:M,containerId:m,isDragging:F,isSorting:j,id:i,index:I,items:l,newIndex:b.current.newIndex,previousItems:b.current.items,previousContainerId:b.current.containerId,transition:f,wasDragging:b.current.activeId!=null}),Z=vt({disabled:!ae,index:I,node:Q,rect:J});return p.useEffect(()=>{j&&b.current.newIndex!==D&&(b.current.newIndex=D),m!==b.current.containerId&&(b.current.containerId=m),l!==b.current.items&&(b.current.items=l)},[j,D,m,l]),p.useEffect(()=>{if(T===b.current.activeId)return;if(T&&!b.current.activeId){b.current.activeId=T;return}const Se=setTimeout(()=>{b.current.activeId=T},50);return()=>clearTimeout(Se)},[T]),{active:M,activeIndex:v,attributes:Ie,data:$,rect:J,index:I,newIndex:D,items:l,isOver:he,isSorting:j,isDragging:F,listeners:xe,node:Q,overIndex:O,over:ye,setNodeRef:Ee,setActivatorNodeRef:Ce,setDroppableNodeRef:ee,setDraggableNodeRef:te,transform:Z??we,transition:Te()};function Te(){if(Z||je&&b.current.newIndex===I)return ht;if(!(se&&!Xe(be)||!f)&&(j||ae))return G.Transition.toString({...f,property:me})}}function xt(s,n){var e,t;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(e=s==null?void 0:s.draggable)!=null?e:n.draggable,droppable:(t=s==null?void 0:s.droppable)!=null?t:n.droppable}}z.Down,z.Right,z.Up,z.Left;class V extends ce{constructor(n){super(Object.assign(Object.assign({},V.defaultAdapter),n)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(n){return this._adapter.getState("list").map(t=>{let{id:a}=t;return a}).includes(n)}addToast(n){const e=this._adapter.getState("list");e.push(n),this._adapter.updateToast(e,[],[])}updateToast(n,e){let t=this._adapter.getState("list");t=t.map(r=>r.id===n?Object.assign(Object.assign({},r),e):r);const a=t.filter(r=>r.id===n);this._adapter.updateToast(t,[],a)}removeToast(n){let e=this._adapter.getState("list");const t=[];e=e.filter(a=>a.id===n?(t.push(a),!1):!0),this._adapter.updateToast(e,t,[])}destroyAll(){const n=this._adapter.getState("list");n.length>0&&this._adapter.updateToast([],n,[])}}const le=`${$e}-toast`,S={PREFIX:le,WRAPPER:`${le}-wrapper`},P={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},yt={duration:3};class Y extends ce{constructor(n){super(Object.assign(Object.assign({},Y.defaultAdapter),n)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const n=this._adapter.getProp("duration");n&&lt(n)&&(this._timer=setTimeout(()=>{this.close()},n*1e3))}close(n){n&&n.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const x=S.PREFIX;let E=class extends de{constructor(n){super(n),this.toastEle=d.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new Y(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:n=>{this.props.close(n)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(n){this.foundation.close(n)}renderIcon(){const{type:n,icon:e}=this.props,a={warning:d.createElement(Qe,null),success:d.createElement(at,null),info:d.createElement(st,null),error:d.createElement(Ye,null)}[n],r="large",i=W(`${x}-icon`,`${x}-icon-${n}`);return e?Me(e)?d.cloneElement(e,{size:r,className:`${x}-icon`}):e:n&&a?d.cloneElement(a,{size:r,className:i}):null}render(){const{content:n,type:e,theme:t,showClose:a,textMaxWidth:r,className:i,style:o}=this.props,c=this.props.direction||this.context.direction,f=W(x,i,{[`${x}-${e}`]:!0,[`${x}-${t}`]:t==="light",[`${x}-rtl`]:c==="rtl"}),l={};l.maxWidth=r;const m="borderless",v="small",h=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,y=d.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${e||"default"} type`,className:f,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${h*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},d.createElement("div",{className:`${x}-content`},this.renderIcon(),d.createElement("span",{className:`${x}-content-text`,style:l,"x-semi-prop":"content"},n),a&&d.createElement("div",{className:`${x}-close-button`},d.createElement(De,{onClick:C=>this.close(C),type:"tertiary",icon:d.createElement(tt,{"x-semi-prop":"icon"}),theme:m,size:v}))));if(this.props.stack){const C=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return d.createElement("div",{className:`${x}-zero-height-wrapper`,style:{height:C}},y)}else return y}};E.contextType=Le;E.propTypes={onClose:g.func,content:g.node,close:g.func,duration:g.number,theme:g.oneOf(P.themes),type:g.oneOf(P.types),textMaxWidth:g.oneOfType([g.string,g.number]),style:g.object,className:g.string,showClose:g.bool,stack:g.bool,stackExpanded:g.bool,icon:g.node,direction:g.oneOf(P.directions)};E.__SemiComponentName__="Toast";E.defaultProps=Pe(E.__SemiComponentName__,{onClose:q,content:"",close:q,duration:yt.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var Ct=function(s,n){var e={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&n.indexOf(t)<0&&(e[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(s);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(s,t[a])&&(e[t[a]]=s[t[a]]);return e};const Ot=(s,n)=>{var{afterClose:e}=s,t=Ct(s,["afterClose"]);const[a,r]=p.useState(!0),i=()=>{r(!1)};return d.useImperativeHandle(n,()=>({close:()=>{r(!1)}})),p.useEffect(()=>{a||e(t.id)},[a]),a?d.createElement(E,Object.assign({},t,{close:i})):null},Et=d.forwardRef(Ot),L={motion:!0,zIndex:1010,duration:3};function wt(){const[s,n]=d.useState([]);function e(t,a){return n(r=>[{element:t,config:a},...r]),r=>{n(i=>i.filter(o=>{let{config:c}=o;return c.id!==r}))}}return[s,e]}function jt(){const[s,n]=wt(),e=p.useRef(new Map),t=r=>{const i=H("semi_toast_"),o=Object.assign(Object.assign({},r),{id:i});let c;const f=d.createElement(Et,Object.assign({},o,{key:i,afterClose:l=>c(l),ref:l=>{var m;e.current.set(i,{close:(m=l==null?void 0:l.close)!==null&&m!==void 0?m:q})}}));return c=n(f,Object.assign({},o)),i},a=r=>{var i;const{close:o}=(i=e.current.get(r))!==null&&i!==void 0?i:{};o==null||o()};return[{success:r=>t(Object.assign(Object.assign(Object.assign({},L),r),{type:"success"})),info:r=>t(Object.assign(Object.assign(Object.assign({},L),r),{type:"info"})),error:r=>t(Object.assign(Object.assign(Object.assign({},L),r),{type:"error"})),warning:r=>t(Object.assign(Object.assign(Object.assign({},L),r),{type:"warning"})),open:r=>t(Object.assign(Object.assign(Object.assign({},L),r),{type:"default"})),close:r=>a(r)},d.createElement(d.Fragment,null,Array.isArray(s)&&s.length?d.createElement(d.Fragment,null,s.map(r=>r.element)):null)]}const Tt=()=>{var s;return s=class u extends de{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=d.createRef(),this.handleMouseEnter=t=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=t=>{var a;this.stack&&(!((a=this.foundation.getInputWrapperRect())===null||a===void 0)&&a.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new V(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,a)=>{this.setState({list:e,removedItems:t,updatedItems:a})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return(e=this.innerWrapperRef.current)===null||e===void 0?void 0:e.getBoundingClientRect()}})}static create(e){var t;const a=(t=e.id)!==null&&t!==void 0?t:H("toast");if(u.ref){const r=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(i=>{i in e&&(r.style[i]=typeof e[i]=="number"?`${e[i]}px`:e[i])}),!!e.stack!==u.ref.stack&&(u.ref.stack=!!e.stack),u.ref.has(a)?u.ref.update(a,Object.assign(Object.assign({},e),{id:a})):u.ref.add(Object.assign(Object.assign({},e),{id:a}))}else{const r=document.createElement("div");this.wrapperId||(this.wrapperId=H("toast-wrapper").slice(0,26)),r.className=S.WRAPPER,r.id=this.wrapperId,r.style.zIndex=String(typeof e.zIndex=="number"?e.zIndex:u.defaultOpts.zIndex),["top","left","bottom","right"].map(i=>{if(i in u.defaultOpts||i in e){const o=e[i]?e[i]:u.defaultOpts[i];r.style[i]=typeof o=="number"?`${o}px`:o}}),u.defaultOpts.getPopupContainer?u.defaultOpts.getPopupContainer().appendChild(r):document.body.appendChild(r),ie.render(d.createElement(u,{ref:i=>u.ref=i}),r,()=>{u.ref.add(Object.assign(Object.assign({},e),{id:a})),u.ref.stack=!!e.stack})}return a}static close(e){u.ref&&u.ref.remove(e)}static destroyAll(){if(u.ref){u.ref.destroyAll();const e=document.querySelector(`#${this.wrapperId}`);ie.unmountComponentAtNode(e),e&&e.parentNode.removeChild(e),u.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(e){return typeof e=="string"&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},u.defaultOpts),e),{type:"info"}))}static warning(e){return typeof e=="string"&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},u.defaultOpts),e),{type:"warning"}))}static error(e){return typeof e=="string"&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},u.defaultOpts),e),{type:"error"}))}static success(e){return typeof e=="string"&&(e={content:e}),this.create(Object.assign(Object.assign(Object.assign({},u.defaultOpts),e),{type:"success"}))}static config(e){["top","left","bottom","right"].forEach(t=>{t in e&&(u.defaultOpts[t]=e[t])}),typeof e.theme=="string"&&P.themes.includes(e.theme)&&(u.defaultOpts.theme=e.theme),typeof e.zIndex=="number"&&(u.defaultOpts.zIndex=e.zIndex),typeof e.duration=="number"&&(u.defaultOpts.duration=e.duration),typeof e.getPopupContainer=="function"&&(u.defaultOpts.getPopupContainer=e.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state;const{removedItems:t,updatedItems:a}=this.state;e=Array.from(new Set([...e,...t]));const r=a.map(o=>{let{id:c}=o;return c}),i=o=>{var c;!((c=o==null?void 0:o.foundation)===null||c===void 0)&&c._id&&r.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return d.createElement(d.Fragment,null,d.createElement("div",{className:W({[`${S.PREFIX}-innerWrapper`]:!0,[`${S.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map((o,c)=>{const f=t.find(l=>l.id===o.id)!==void 0;return d.createElement(Ae,{key:o.id,motion:o.motion,animationState:f?"leave":"enter",startClassName:f?`${S.PREFIX}-animation-hide`:`${S.PREFIX}-animation-show`},l=>{let{animationClassName:m,animationEventsNeedBind:v,isAnimating:h}=l;return f&&!h?null:d.createElement(E,Object.assign({},o,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:c},className:W({[o.className]:!!o.className,[m]:!0})},v,{style:Object.assign({},o.style),close:y=>this.remove(y),ref:i}))})})))}},s.defaultOpts={motion:!0,zIndex:1010,content:""},s.propTypes={content:g.node,duration:g.number,onClose:g.func,icon:g.node,direction:g.oneOf(P.directions),stack:g.bool},s.defaultProps={},s};class St{static create(n){const e=Tt();return e.useToast=jt,n&&e.config(n),e}}const Rt=St.create();function _t(s,n,e){const t={...s};return n.top+s.y<=e.top?t.y=e.top-n.top:n.bottom+s.y>=e.top+e.height&&(t.y=e.top+e.height-n.bottom),n.left+s.x<=e.left?t.x=e.left-n.left:n.right+s.x>=e.left+e.width&&(t.x=e.left+e.width-n.right),t}const Nt=s=>{let{containerNodeRect:n,draggingNodeRect:e,transform:t}=s;return!e||!n?t:_t(t,e,n)},ge={"drag-container":"_drag-container_1emsn_1","draggable-item":"_draggable-item_1emsn_9"};function $t({item:s}){const{setNodeRef:n,attributes:e,listeners:t,transform:a,transition:r}=It({id:s.id,transition:{duration:500,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),i={transform:G.Transform.toString(a),transition:r};return R.jsx("div",{ref:n,...e,...t,style:i,className:ge["draggable-item"],onClick:()=>Rt.info(`你点击了${s.text}`),children:R.jsx("span",{children:s.text})})}function At(){const[s,n]=p.useState(()=>Array.from({length:31},()=>{const r=ke.uniqueId("id:");return{id:r,text:r}})),e=He(Ge(Ke,{activationConstraint:{distance:5}}));function t(r,i){const{active:o,over:c}=i,f=r.findIndex(m=>m.id===o.id),l=r.findIndex(m=>m.id===(c==null?void 0:c.id));return{activeIndex:f!==-1?f:0,overIndex:l!==-1?l:f}}function a(r){const{active:i,over:o}=r;if(!i||!o)return;const c=[...s],{activeIndex:f,overIndex:l}=t(c,r);if(f!==l){const m=U(c,f,l);n(m)}}return R.jsx(Ue,{onDragEnd:a,sensors:e,modifiers:[Nt],children:R.jsx(ft,{items:s.map(r=>r.id),strategy:K,children:R.jsx("div",{className:ge["drag-container"],children:s.map(r=>R.jsx($t,{item:r},r.id))})})})}export{At as default};
